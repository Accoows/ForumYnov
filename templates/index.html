<!-- index.html -->
<!DOCTYPE html>
<html>

<head>
  <title>ForumYnov</title>
  <link rel="stylesheet" type="text/css" href="/static/index.css">
  <link rel="stylesheet" type="text/css" href="/static/notifications.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Ajout√© -->
</head>

<body>
  <div class="page">
    <div class="top-bar">
      <div class="top-bar-inner">
        <div class="container">
          <div class="container2">
              <a href="/">
                  <img src="/static/logoforum.png" alt="Forum Logo" class="forum-logo">
              </a>
          </div>
          <button id="dark-mode-toggle">Dark Mode</button>
          {{if .IsLoggedIn}}
          <a href="/profile"><button id="profile">Profile</button></a>
          {{else}}
          <a href="/login"><button id="login-button">Login</button></a>
          {{end}}
        </div>
      </div>
    </div>
    <h1>Top 3 categories of the week</h1>
    <div class="tab-group">
      {{range .TopCategories}}
      <button class="tab" onclick="location.href='/category?id={{.ID}}'">
      <div class="frame">
        <div class="icon">{{.CategoryPhotos}}</div>
      </div>
      <div class="title2">{{.Name}}</div>
      </button>
      {{else}}
        <p>No created posts this week</p>
      {{end}}
    </div>
    <div class="list">
      <div class="section-title">
        <div class="text">
          <div class="title3">Popular Topics (all time)</div>
        </div>
      </div>
      {{range .TopCategoriesAllTime}}
      <button class="item" onclick="location.href='/category?id={{.ID}}'">
        <div class="frame2">
          <div class="icon2">{{.CategoryPhotos}}</div> <!-- Culture -->
        </div>
        <div class="frame-427318906">
          <div class="title4">{{.Name}}</div>
        </div>
      </button>
      {{else}}
        <p>No created posts</p>
      {{end}}
    </div>
    <div class="button">
      <button class="seconday" onclick="location.href='/post-list'">
        <div class="title10">Posts list</div>
      </button>
      {{if .IsLoggedIn}}
        <button class="seconday" onclick="location.href='/profile'">
          <div class="title10">Saved Posts</div>
        </button>
      {{end}}
        <button class="seconday" onclick="location.href='/posts'">
          <div class="title10">See all posts</div>
        </button>
    </div>
    <div class="list3">
      <div class="section-title">
        <div class="text">
          <div class="title3">Your Interests</div>
        </div>
      </div>
      <div class="row">
        <button class="chip" onclick="location.href='/category?id=7'">
          <div class="frame2">
            <div class="icon2">üî§</div> <!-- Hiragana -->
          </div>
          <div class="title7">Hiragana</div>
        </button>
        <button class="chip" onclick="location.href='/category?id=8'">
          <div class="frame2">
            <div class="icon2">üàÇÔ∏è</div> <!-- Katakana -->
          </div>
          <div class="title7">Katakana</div>
        </button>
        <button class="chip" onclick="location.href='/category?id=9'">
          <div class="frame2">
            <div class="icon2">üà¥</div> <!-- Kanji -->
          </div>
          <div class="title7">Kanji</div>
        </button>
      </div>
    </div>
    <div class="list3">
      <div class="section-title">
        <div class="text">
          <div class="title3">Latest Discussions
          </div>
        </div>
      </div>
      <div class="row">
        {{range .LatestPosts}}
        <button class="post" onclick="window.location.href='/posts/view?id={{.ID}}'">
          <div class="user2">
            <div class="avatar">
              <div class="avatar3">{{.CategoryPhotos}}</div>
              <div class="frame-427318906">
                <div class="title6">{{.CategoryName}} : {{.Title}}</div>
              </div>
            </div>
            <div class="icon-buttons">
              <div class="like">
                üëç <span>{{.LikeCount}}</span>
              </div>
              <div class="dislike">
                üëé <span>{{.DislikeCount}}</span>
              </div>
            </div>
          </div>
          <div class="image-container2">
            <div class="post-header">
              <div class="author">{{.AuthorUsername}}</div>
              <div class="timestamp">{{.Created_at}}</div>
            </div>
            <div class="post-content">
              <div class="content">{{.Content}}</div>
            </div>
          </div>
        </button>
        {{else}}
          <p>No created posts</p>
        {{end}}
      </div>
    </div>
  </div>
  <div id="notification-toast" class="hidden notif-toast">
    <span id="notification-message"></span>
    <button id="close-notification-toast" class="close-btn">&times;</button>
  </div>
  <script src="scripts/script.js"></script>
  <script src="scripts/notifications.js"></script>
</body>

</html>